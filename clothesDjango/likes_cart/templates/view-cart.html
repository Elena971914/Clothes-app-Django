{% extends 'base.html' %}
{% load static %}

{% block title %}
    {{ cloth.name }}
{% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/view-cart.css' %}">
{% endblock %}

{% block content %}
    <h1 class="cart-heading">My Cart</h1>

<div class="cart-container">
    <ul class="cart-list">
        <h3 class="cart-heading">Products</h3>
        {% for cart_item in object_list %}
        <li class="cart-item" >
            <img src="{{ cart_item.cloth.photo.url }}" alt="Testimonial Photo" class="cart-img">
            <div class="cart-info">
                <h6>{{ cart_item.cloth.name }}</h6>
                <p>{{ cart_item.cloth.description }}</p>
                <p>Price for piece: {{ cart_item.cloth.price }} BGN</p>
                <p>Size: {{ cart_item.size }}</p>
                <p>Color: {{ cart_item.cloth.color }}</p>
                <form method="POST" action="{% url 'update cart item' pk_cart=cart_item.pk %}">
                    {% csrf_token %}
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" style='{{ 'width:40px' }}' value="{{ cart_item.quantity }}" min="1">
                    <button type="submit" class="cart-button" style="{{ 'padding:0px' }}">Update</button>
                </form>
                <button class="cart-button">
                    <a href="{% url 'delete cart item' pk_cart=cart_item.pk %}" class="cart-button-link">Delete</a>
                </button>
                <button class="cart-button">
                    <a href="{% url 'show product details' cart_item.cloth.pk %}" class="cart-button-link" id="current-{{ cart_item.cloth.id }}">Show product details</a>
                </button>
            </div>
            <p style="{{ 'position:relative; top:6vw; left:10vh' }} ">Price: <small style="{{ 'color: #db4f66; font-weight: bold; font-size: larger;' }}">{{ cart_item.subtotal }} BGN</small></p>
        </li>
        {% empty %}
        <li class="cart-item" style="{{ 'text-align:center' }}">Your cart is empty</li>
        {% endfor %}
    </ul>
    <div class="cart-summary">
        <hr>
        <h2>Summary</h2>
        <hr>
        <p>Total price of the products: <small style="{{ 'color: #db4f66; font-weight: bold; font-size: 36px;' }}">{{ total_price }} BGN </small> </p>
        <hr>
        <p>Estimated delivery time: 3-5 days</p>
        <button class="cart-order-button">MAKE AN ORDER</button>
    </div>
</div>



{% endblock %}